{% extends 'base.html' %}
{% block content %}

<div id="capture" style="padding: 10px; background: #f5da55">
    <img class="responsive-img card-panel" src="{{url}}">
</div>
<input type="submit" class="btn" value="Add Text">





<form action="{% url 'add_photo' %}" enctype="multipart/form-data" method="POST" class="card-panel">
    {% csrf_token %}
    <input type="file" name="photo-file">
    <input type="submit" class="btn" value="Upload Photo">
    <br><br>
</form>
<input id="done-btn" type="submit" class="btn" value="Done">

    <script src = "../../static/js/html2canvas.mini.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>

    <script>

        let buttonDone = document.querySelector("#done-btn")

        buttonDone.addEventListener('click', (event)=>{
            html2canvas(document.querySelector("#capture")).then(canvas => {
            document.body.appendChild(canvas)
            });
        })

        const position = { x: 0, y: 0 }

        interact('.draggable').draggable({
        listeners: {
            start (event) {
            console.log(event.type, event.target)
            },
            move (event) {
            position.x += event.dx
            position.y += event.dy

            event.target.style.transform =
                `translate(${position.x}px, ${position.y}px)`
            },
        }
        })


        
    </script>


{% endblock %}
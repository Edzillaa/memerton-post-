{% extends 'base.html' %} {% block content %}

<!-- right menu button/ filter memes -->
<div class="fixed-action-btn">
  <a href="#" class="btn-floating btn-large"><i class="large material-icons">sort</i></a>
  <ul>
      <li><a href="{% url 'sort_hated' %}" class="btn-floating red btn-large">
          <i class="large material-icons">thumb_down</i></a></li>
      <li><a href="{% url 'sort_liked' %}" class="btn-floating green btn-large">
          <i class="large material-icons">thumb_up</i></a></li>
      {% if user.is_authenticated %}
      <li><a href="{% url 'sort_my_memes' %}" class="btn-floating grey lighten-1 btn-large">
          <i class="large material-icons">view_list</i></a></li>
      {% endif %}
  </ul>
</div>

<ul class="index-grid">
  {% if memes %}
  {% for meme in memes%}
    <li class="meme-item">
      <div class=" meme-image">
        <a href="{% url 'meme_details' meme.id %}" >
          <img id="{{meme.id}}" class="the-meme" src="{{meme.url}}" />
        </a>
        <div class="meme-data-section">
          <div class="meme-likes-section">
            <!-- like button -->
            <div class=" center-align vote-box">
              <form
                action="{% url 'add_like' %}"
                enctype="multipart/form-data"
                method="POST"
              >
                {% csrf_token %}
                <input name="meme-id" value="{{meme.id}}" style="display: none" />
                <button class="btn waves-light btn-small green lighten-1" type="submit">
                 {{meme.likes}}</button>
              </form>
            </div>
            <!-- dislike button -->
            <div class="center-align vote-box">
              <form
                action="{% url 'add_dislike' %}"
                enctype="multipart/form-data"
                method="POST"
              >
                {% csrf_token %}
                <input name="meme-id" value="{{meme.id}}" style="display: none" />
                <button class="btn waves-light btn-small red lighten-1" type="submit">
                   {{meme.dislikes}}</button>
              </form>
            </div>
          </div>
        
          <p class="meme-title">{{ meme.name }} <span class="meme-author">by {{meme.user}}</span></p>
        </div>
      <div>
      <div class=" white-text center-align">
        
      </div>
       
      </div>
      </li>
      

  <!-- ******** overlay stuff ********* -->
  <!-- <div data-memeid="{{meme.id}}" class="meme-details row">
    <div class="meme-detail-info">
      <img class="meme-detail-card" src="{{meme.url}}"/>
      likes: {{meme.likes}} dislikes:{{meme.dislikes}}
    </div>
    <div class="meme-comment-section">
    </div>
    <button class="detail-close-btn">close</button>
  </div> -->
  {% endfor %}
  {% else %}
  <p> No memes :(</p>
  {% endif %}
  <li class="meme-item"></li>

</ul>


{% endblock %}



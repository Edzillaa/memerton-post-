{% extends 'base.html' %} {% block content %}

<!-- Dropdown Trigger -->
<a class="dropdown-trigger btn" data-target="dropdown1">Sort By</a>
<!-- Dropdown Structure -->
<ul id="dropdown1" class="dropdown-content">
  <li><a href="#!">Most Hated</a></li>
  <li><a href="#!">Most Liked</a></li>
  {% if user.is_authenticated %}
    <li><a href="{% url 'sort_my_memes' %}">My Memes</a></li>
  {% endif %}
</ul>

<div class="row">
  {% for meme in memes%}
  <div class="col s4">
    <div class="card blue-grey darken-1">
      <div class="card-content white-text">
        <span class="card-title">{{ meme.name }} </span>
        <a href="{% url 'meme_details' meme.id %}">
          <img id="{{meme.id}}" class="meme-card" src="{{meme.url}}" />
        </a>
      </div>
      <div class="card-action">
        <div id="likes-section">
          <div class="vote-box">
            <form
              action="{% url 'add_like' %}"
              enctype="multipart/form-data"
              method="POST"
            >
              {% csrf_token %}
              <input name="meme-id" value="{{meme.id}}" style="display: none" />
              <button type="submit">👍🏻</button>
              :{{meme.likes}}
            </form>
          </div>
          <div class="vote-box">
            <form
              action="{% url 'add_dislike' %}"
              enctype="multipart/form-data"
              method="POST"
            >
              {% csrf_token %}
              <input name="meme-id" value="{{meme.id}}" style="display: none" />
              <button type="submit">👎🏻</button>
              :{{meme.dislikes}}
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- ******** overlay stuff ********* -->
  <!-- <div data-memeid="{{meme.id}}" class="meme-details row">
    <div class="meme-detail-info">
      <img class="meme-detail-card" src="{{meme.url}}"/>
      likes: {{meme.likes}} dislikes:{{meme.dislikes}}
    </div>
    <div class="meme-comment-section">
    </div>
    <button class="detail-close-btn">close</button>
  </div> -->
  {% endfor %}
</div>

{% endblock %}


